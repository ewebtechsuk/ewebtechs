!function(n){"use strict";var e,l,s;function i(e,t){n.ajax({url:ywsbsDeliverySchedulest.ajaxurl,data:e,type:"POST",dataType:"json",beforeSend:function(){t.block({message:null,overlayCSS:{background:"#fff",opacity:.6}})},success:function(e){var s;t.unblock(),e.success&&(t.find(".status-label").text(e.data.statusLabel),t.find(".status-label").attr("data-value",e.data.status),t.find(".status-change").val(e.data.status),t.closest("tr").find(".sent_on").text(e.data.sentOn),s=!!(e=n("#ywsbs-delivery-schedules-status")).length&&e.val())&&e.val(s).change()}})}"undefined"!=typeof ywsbsDeliverySchedulest&&(l=n("input#post_ID").val(),-1!==(s=window.location.href).indexOf("bulk-delivery-status-updated")&&window.history.pushState({},document.title,s.replace("&bulk-delivery-status-updated=1","")),n(document).on("change",".delivery-status .status-change",function(){var e=n(this).val(),s=n(this).parent(),t=s.data("id"),a={action:ywsbsDeliverySchedulest.deliveryAction,security:ywsbsDeliverySchedulest.deliveryNonce,deliveryID:t,status:e,subscriptionID:l};"shipped"===e?yith.ui.confirm({title:ywsbsDeliverySchedulest.confirmModalTitle,message:ywsbsDeliverySchedulest.confirmModalMessage,closeAfterConfirm:!0,onCancel:function(){},onConfirm:function(){i(a,s)}}):i(a,s)}),"undefined"!=typeof jQuery.fn.DataTable&&("object"==typeof e&&e.destroy(),e=n(document).find(".ywsbs-delivery-schedules-table").DataTable({searching:!0,ordering:!1,language:{lengthMenu:ywsbsDeliverySchedulest.datatable_lengthMenu+" _MENU_"}}),n(document).on("change","#ywsbs-delivery-schedules-status",function(){e.columns(1).search(this.value).draw()})),n(document).on("change","#ywsbs_delivery_default_schedule_delivery_period",function(){var e=n(this).val(),s=n("#ywsbs_delivery_default_schedule2");s.find('[class*="show-if-"]').hide(),"days"===e?s.closest(".yith-plugin-fw__panel__section").hide():(s.closest(".yith-plugin-fw__panel__section").show(),s.find(".show-if-"+e).show())}),n("#ywsbs_delivery_default_schedule_delivery_period").change())}(jQuery);