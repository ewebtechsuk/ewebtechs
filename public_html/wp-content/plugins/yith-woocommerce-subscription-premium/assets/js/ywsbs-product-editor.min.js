jQuery(function(a){a("#_ywsbs_subscription").on("change",function(){var s=a(".subscription-settings_tab"),e=a("#ywsbs_subscription_settings");a('input[name="_ywsbs_subscription"]').is(":checked")?s.show():(s.hide(),e.is(":visible")&&(e.hide(),a(".general_tab a").click()))}).change(),a(document).on("change",".checkbox_ywsbs_subscription",function(){var n,s=a(this).closest(".woocommerce_variable_attributes").find(".ywsbs-product-metabox-options-panel");a(this).is(":checked")?s.slideDown("slow"):s.slideUp("slow"),n=a(document).find(".woocommerce_variable_attributes input.checkbox_ywsbs_subscription:checked").length,s=a(document).find(".switchable_priority"),a.each(s,function(){for(var s=a(this),e=parseInt(s.val()),t="",i=0;i<n;i++){var o=parseInt(i);t+='<option value="'+o+(e===o?'" selected="selected"':'"')+">"+(o+1)+"</option>"}s.html(t)})}),a(document).on("change",".ywsbs_price_time_option, .variable_ywsbs_subscription",function(){var s=a(this),e=s.closest(".ywsbs-product-metabox-options-panel"),t=a("option:selected",s),i=s.val();e.find(".max-length-time-opt").text(t.data("text")),a(document).trigger("ywsbs_price_time_option_changed",[s,i])}),a(document).on("change",".ywsbs-product-metabox-options-panel :input",function(s){var t,e=a(this),i=e.attr("type"),o=e.attr("name");return!("radio"===i&&!e.is(":checked")||!(o=a(document).find('.ywsbs-product-metabox-options-panel [data-deps-on="'+o+'"]')).length)&&(t="checkbox"===i?e.is(":checked")?"yes":"no":e.val(),void a.each(o,function(){var s=a(this).data("deps-val").split("|"),e=a(this).data("deps-effect")??"fade";if(-1!==a.inArray(t,s))switch(e){case"fade":a(this).fadeIn();break;case"slide":a(this).slideDown("slow");break;case"plain":a(this).show()}else switch(e){case"fade":a(this).fadeOut();break;case"slide":a(this).slideUp("slow");break;case"plain":a(this).hide()}a(this).change()}))}),a(document).find(".ywsbs-product-metabox-options-panel :input").change(),a("#woocommerce-product-data").on("woocommerce_variations_loaded",function(){a(document).find(".checkbox_ywsbs_subscription").change(),a(document).find(".ywsbs-product-metabox-options-panel :input").change()});var s=function(){var s=a(document).find(".subscription-settings_tab"),e=a(document).find(".ywsbs-sub-tab"),t=!!e.filter(":not(.subscription-settings-sub_tab):visible").length;t?(s.addClass("ywsbs-has-sub-tab"),e.removeClass("last-child"),e.filter(":visible").last().addClass("last-child")):s.removeClass("ywsbs-has-sub-tab"),a(document).find(".subscription-settings-sub_tab").toggle(t)};a(document.body).on("woocommerce-product-type-change",s),s()});