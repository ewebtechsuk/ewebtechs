(()=>{"use strict";var e={};(e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})})(e);const t=window.wp.blocks,o=window.wp.i18n;let l=wp.element.createElement;const i=l("svg",{width:22,height:22},l("path",{d:"M 18.24 7.628 C 17.291 8.284 16.076 8.971 14.587 9.688 C 15.344 7.186 15.765 4.851 15.849 2.684 C 15.912 0.939 15.133 0.045 13.514 0.003 C 11.558 -0.06 10.275 1.033 9.665 3.284 C 10.007 3.137 10.359 3.063 10.723 3.063 C 11.021 3.063 11.267 3.184 11.459 3.426 C 11.651 3.668 11.736 3.947 11.715 4.262 C 11.695 5.082 11.276 5.961 10.46 6.896 C 9.644 7.833 8.918 8.3 8.282 8.3 C 7.837 8.3 7.625 7.922 7.646 7.165 C 7.667 6.765 7.804 5.955 8.056 4.735 C 8.287 3.579 8.403 2.801 8.403 2.401 C 8.403 1.707 8.224 1.144 7.867 0.713 C 7.509 0.282 6.994 0.098 6.321 0.161 C 5.858 0.203 5.175 0.624 4.27 1.422 C 3.596 2.035 2.923 2.644 2.25 3.254 L 2.976 4.106 C 3.564 3.664 3.922 3.443 4.048 3.443 C 4.448 3.443 4.637 3.717 4.617 4.263 C 4.617 4.306 4.427 4.968 4.049 6.251 C 3.671 7.534 3.471 8.491 3.449 9.122 C 3.407 9.985 3.565 10.647 3.924 11.109 C 4.367 11.677 5.106 11.919 6.142 11.835 C 7.366 11.751 8.591 11.298 9.816 10.479 C 10.323 10.142 10.808 9.753 11.273 9.311 C 11.105 10.153 10.905 10.868 10.673 11.457 C 8.402 12.487 6.762 13.37 5.752 14.107 C 4.321 15.137 3.554 16.241 3.449 17.419 C 3.259 19.459 4.29 20.479 6.541 20.479 C 8.055 20.479 9.517 19.554 10.926 17.703 C 12.125 16.126 13.166 14.022 14.049 11.394 C 15.578 10.635 16.87 9.892 17.928 9.164 C 17.894 9.409 18.319 7.308 18.24 7.628 Z  M 7.393 16.095 C 7.056 16.095 6.898 15.947 6.919 15.653 C 6.961 15.106 7.908 14.38 9.759 13.476 C 8.791 15.221 8.002 16.095 7.393 16.095 Z"})),r=window.React,a=window.wp.blockEditor,n=window.wp.components,s=window.wp.data,c=window.lodash,u=window.wp.compose,b=["yith/ywsbs-plan"],m=(0,u.compose)([(0,s.withSelect)(((e,t)=>{const{clientId:o}=t;return{newplans:e("core/block-editor").getBlocks(o).length}})),(0,s.withDispatch)(((e,o,l)=>({updateLabel(t){const{clientId:i,setAttributes:r}=o,{getBlocks:a}=l.select("core/block-editor");a(i).forEach((function(t){e("core/editor").updateBlockAttributes(t.clientId,{subtitleLabel:o.attributes.subtitleLabel})})),r({subtitleLabel:t})},updatePlans(i,r){const{clientId:a,setAttributes:n,isSelected:s}=o,{replaceInnerBlocks:u,selectionChange:b}=e("core/block-editor"),{getBlocks:m}=l.select("core/block-editor");let p=m(a);p=(r=r>5?5:r)>i?[...p,...(0,c.times)(r-i,(()=>(0,t.createBlock)("yith/ywsbs-plan")))]:(0,c.dropRight)(p,i-r),n({plans:r}),u(a,p,!1)}})))])((function(e){if(e.attributes.preview)return(0,r.createElement)(r.Fragment,null,(0,r.createElement)("img",{src:ywsbs_plans_object.ywsbs_plans_preview}));const{attributes:t,setAttributes:l,className:i,isSelected:s,clientId:c,updatePlans:u,updatePlansAttributes:m,newplans:p,updateLabel:d}=e,{plans:h,planTemplate:w,subtitleLabel:g}=t,y=i+" ywsbs-plans  ywsbs-plans-"+p;return(0,r.createElement)(r.Fragment,null,(0,r.createElement)(a.InspectorControls,null,(0,r.createElement)(n.PanelBody,{title:(0,o.__)("General settings","yith-woocommerce-subscription")},(0,r.createElement)(n.RangeControl,{label:(0,o.__)("Number of plans","yith-woocommerce-subscription"),value:p,onChange:e=>u(p,e),min:1,max:5}))),(0,r.createElement)("div",{className:y},(0,r.createElement)(a.InnerBlocks,{allowedBlocks:b,template:w,templateInsertUpdatesSelection:!0,__experimentalCaptureToolbars:!1,renderAppender:!1,__experimentalMoverDirection:"horizontal"})))})),p={title:(0,o.__)("Subscription plans","yith-woocommerce-subscription"),description:(0,o.__)("Add subscription table price","yith-woocommerce-subscription"),icon:i,category:"yith-blocks",attributes:{plans:{type:"integer",default:3},planTemplate:{type:"array",default:[["yith/ywsbs-plan"],["yith/ywsbs-plan"],["yith/ywsbs-plan"]]},preview:{type:"boolean",default:!1}},example:{attributes:{preview:!0}},edit:e=>(0,r.createElement)(m,{...e}),save:function({attributes:e}){const t=" ywsbs-plans  plans-"+e.plans;return(0,r.createElement)("div",{className:t},(0,r.createElement)(a.InnerBlocks.Content,null))}};(0,t.registerBlockType)("yith/ywsbs-plans",{...p});const d=window.wp.element;class h extends d.Component{render(){const{attributes:e,updateAttribute:t,subtitleLabel:l}=this.props,{title:i,titleColor:n,titleAlign:s,titleBackgroundColor:c,titleFontSize:u,titleBackgroundColorTransparent:b}=e,{subtitleFontSize:m,showSubtitleSeparator:p,subtitleColor:d}=e,h="subtitlePlan"+(p?" with-separator":"");return(0,r.createElement)("div",{className:"plan-title",style:b?{background:"transparent"}:{background:c}},""!==l?(0,r.createElement)("style",null,`.wp-block-yith-ywsbs-plan .subtitlePlan.with-separator:after { border-color: ${d} }`):"",""!==l?(0,r.createElement)("div",{className:h,style:{color:d,fontSize:m}},l):"",(0,r.createElement)(a.RichText,{className:"ywsbs-plan__title",tagName:"h2",onChange:e=>t(e,"title"),value:i,placeholder:(0,o.__)("Title Plan","mytheme-blocks"),formatingControls:[],style:{textAlign:s,color:n,fontSize:u}}))}}const w=h,g=(0,u.compose)([(0,s.withDispatch)(((e,o,l)=>({onShowBlock(i,r){const{clientId:a,setAttributes:n}=o,{replaceInnerBlocks:s}=e("core/block-editor"),{getBlocks:c}=l.select("core/block-editor");let u=c(a),b=[];if(i)switch(r){case"core/image":b=[(0,t.createBlock)(r),...u];break;case"core/list":u.forEach((e=>{b.push(e),"core/paragraph"===e.name&&b.push((0,t.createBlock)(r))}))}else u.forEach((function(e){e.name!==r&&b.push(e)}));switch(r){case"core/image":n({showImage:i});break;case"core/list":n({showList:i})}s(a,b,!1)}})))])((function(e){const{attributes:t,setAttributes:l}=e;let{className:i}=e;i+="undefined"!=typeof animation&&""!==animation?" "+animation:"";const s=(e,t)=>{void 0!==e&&("backgroundColor"===t&&l({backgroundColor:e}),"borderColor"===t&&l({borderColor:e}),"titleBackgroundColor"===t&&l({titleBackgroundColor:e}),"titleColor"===t&&l({titleColor:e}),"subtitleColor"===t&&l({subtitleColor:e}),"textColor"===t&&l({textColor:e}))},c=(e,t)=>{"borderRadius"===t&&l({borderRadius:e}),"title"===t&&l({title:e})},{backgroundColor:u,borderColor:b,borderRadius:m,titleAlign:p,titleFontSize:d,textColor:h}=t,{shadowColor:g,shadowH:y,shadowV:_,shadowBlur:C,shadowSpread:S}=t,{subtitleFontSize:f}=t,k=[{name:(0,o.__)("Small"),slug:"small",size:11},{name:(0,o.__)("Medium"),slug:"small",size:13},{name:(0,o.__)("Big"),slug:"big",size:40}],x=t=>{const o=e.attributes.backgroundColor?.includes("linear-gradient");if(o)return!0;const l=e.attributes.backgroundColor?.includes("radial-gradient");return!!l};return(0,r.createElement)(r.Fragment,null,(0,r.createElement)(a.BlockControls,null,(0,r.createElement)(a.AlignmentToolbar,{value:p,onChange:e=>{l({titleAlign:e})}})),(0,r.createElement)(a.InspectorControls,null,(0,r.createElement)(n.PanelBody,{title:(0,o.__)("Settings","yith-woocommerce-subscription")},(0,r.createElement)(n.ToggleControl,{label:(0,o.__)("Show image","yith-woocommerce-subscription"),help:e.attributes.showImage?(0,o.__)("Show image","yith-woocommerce-subscription"):(0,o.__)("Hide image","yith-woocommerce-subscription"),checked:e.attributes.showImage,onChange:t=>e.onShowBlock(t,"core/image")}),(0,r.createElement)(n.ToggleControl,{label:(0,o.__)("Show list","yith-woocommerce-subscription"),help:e.attributes.showList?(0,o.__)("Show list","yith-woocommerce-subscription"):(0,o.__)("Hide list","yith-woocommerce-subscription"),checked:e.attributes.showList,onChange:t=>e.onShowBlock(t,"core/list")})),(0,r.createElement)(n.PanelBody,{title:(0,o.__)("General settings","yith-woocommerce-subscription")},(0,r.createElement)(n.RangeControl,{label:(0,o.__)("Border radius","yith-woocommerce-subscription"),value:e.attributes.borderRadius,onChange:e=>c(e,"borderRadius"),min:0,max:100}),(0,r.createElement)(n.SelectControl,{label:(0,o.__)("Animated hover effect","yith-woocommerce-subscription"),value:e.attributes.animation,options:[{label:(0,o.__)("No effects","yith-woocommerce-subscription"),value:""},{label:(0,o.__)("Grow","yith-woocommerce-subscription"),value:"grow"},{label:(0,o.__)("Float","yith-woocommerce-subscription"),value:"float"},{label:(0,o.__)("Sink","yith-woocommerce-subscription"),value:"sink"},{label:(0,o.__)("Shrink","yith-woocommerce-subscription"),value:"shrink"}],onChange:e=>l({animation:e})})),(0,r.createElement)(a.__experimentalPanelColorGradientSettings,{title:(0,o.__)("General color settings","yith-woocommerce-subscription"),initialOpen:!1,settings:[{label:(0,o.__)("Background color","yith-woocommerce-subscription"),onColorChange:e=>s(e,"backgroundColor"),colorValue:e.attributes.backgroundColor,gradientValue:x(e.attributes.backgroundColor)?e.attributes.backgroundColor:"",onGradientChange:e=>s(e,"backgroundColor")},{label:(0,o.__)("Text color"),onColorChange:e=>s(e,"textColor"),colorValue:e.attributes.textColor},{label:(0,o.__)("Border color","yith-woocommerce-subscription"),onColorChange:e=>s(e,"borderColor"),colorValue:e.attributes.borderColor}]}),(0,r.createElement)(a.__experimentalPanelColorGradientSettings,{title:(0,o.__)("Titles bar","yith-woocommerce-subscription"),initialOpen:!1,settings:[{label:(0,o.__)("Text color"),onColorChange:e=>s(e,"titleColor"),colorValue:e.attributes.titleColor},{label:(0,o.__)("Subtitle color"),onColorChange:e=>s(e,"subtitleColor"),colorValue:e.attributes.subtitleColor},{label:(0,o.__)("Background color"),onColorChange:e=>s(e,"titleBackgroundColor"),colorValue:e.attributes.titleBackgroundColor,gradientValue:x(e.attributes.titleBackgroundColor)?e.attributes.titleBackgroundColor:"",onGradientChange:e=>s(e,"titleBackgroundColor")}]},(0,r.createElement)(n.ToggleControl,{label:(0,o.__)("Set a transparent background color","yith-woocommerce-subscription"),checked:e.attributes.titleBackgroundColorTransparent,onChange:t=>e.setAttributes({titleBackgroundColorTransparent:t})}),(0,r.createElement)("h4",null,(0,o.__)("Title font size","yith-woocommerce-subscription")),(0,r.createElement)(n.FontSizePicker,{fontSizes:k,value:d||20,fallbackFontSize:20,withSlider:!0,onChange:e=>{l({titleFontSize:e})}}),(0,r.createElement)(n.TextControl,{label:(0,o.__)("Subtitle text","yith-woocommerce-subscription"),value:e.attributes.subtitleLabel,onChange:e=>l({subtitleLabel:e})}),(0,r.createElement)("h4",null,(0,o.__)("Subtitle font size","yith-woocommerce-subscription")),(0,r.createElement)(n.FontSizePicker,{label:(0,o.__)("Show separator between subtitle and title","yith-woocommerce-subscription"),fontSizes:k,value:f||20,fallbackFontSize:20,withSlider:!0,onChange:e=>{l({subtitleFontSize:e})}}),(0,r.createElement)(n.ToggleControl,{label:(0,o.__)("Show separator between subtitle and title","yith-woocommerce-subscription"),help:e.attributes.showSubtitleSeparator?(0,o.__)("Show separator","yith-woocommerce-subscription"):(0,o.__)("Hide separator","yith-woocommerce-subscription"),checked:e.attributes.showSubtitleSeparator,onChange:t=>e.setAttributes({showSubtitleSeparator:t})})),(0,r.createElement)(a.__experimentalPanelColorGradientSettings,{title:(0,o.__)("Box shadow","yith-woocommerce-subscription"),initialOpen:!1,settings:[{label:(0,o.__)("Shadow color","yith-woocommerce-subscription"),onColorChange:e=>l({shadowColor:e}),value:g,colorValue:e.attributes.shadowColor}]},(0,r.createElement)(n.RangeControl,{label:(0,o.__)("Shadow H offset","yith-woocommerce-subscription"),value:y||"",onChange:e=>l({shadowH:e}),min:-50,max:50}),(0,r.createElement)(n.RangeControl,{label:(0,o.__)("Shadow V offset","yith-woocommerce-subscription"),value:_||"",onChange:e=>l({shadowV:e}),min:-50,max:50}),(0,r.createElement)(n.RangeControl,{label:(0,o.__)("Shadow blur","yith-woocommerce-subscription"),value:C||"",onChange:e=>l({shadowBlur:e}),min:0,max:50}),(0,r.createElement)(n.RangeControl,{label:(0,o.__)("Shadow spread","yith-woocommerce-subscription"),value:S||"",onChange:e=>l({shadowSpread:e}),min:0,max:50}))),(0,r.createElement)("div",{className:i,style:{color:h,background:u,borderColor:b,borderRadius:m,boxShadow:`${y}px ${_}px ${C}px ${S}px ${g}`}},(0,r.createElement)(w,{attributes:e.attributes,subtitleLabel:e.attributes.subtitleLabel,updateAttribute:c}),(0,r.createElement)(a.InnerBlocks,{templateInsertUpdatesSelection:!1,__experimentalCaptureToolbars:!1,template:[["yith/ywsbs-price"],["core/paragraph",{placeholder:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt."}],["core/button",{value:"Subscribe"}]],templateLock:"insert"})))})),y={title:(0,o.__)("Subscription plan","yith-woocommerce-subscription"),description:(0,o.__)("Add subscription table column","yith-woocommerce-subscription"),icon:i,category:"yith-blocks",parent:["yith/ywsbs-plans"],attributes:{textColor:{type:"text",default:"#000"},title:{type:"text",default:"Title"},titleColor:{type:"text",default:"#000"},titleAlign:{type:"text",default:"center"},titleBackgroundColor:{type:"text",default:"#fff"},titleBackgroundColorTransparent:{type:"boolean",default:!1},titleFontSize:{type:"number",default:"40"},backgroundColor:{type:"text",default:"#fff"},borderColor:{type:"text",default:"#dedede"},subtitleFontSize:{type:"number",default:"40"},subtitleColor:{type:"text",default:"#000"},showSubtitleSeparator:{type:"boolean",default:!1},subtitleLabel:{type:"text",default:""},animation:{type:"text",default:""},borderRadius:{type:"integer",default:10},showList:{type:"boolean",default:!1},showImage:{type:"boolean",default:!1},shadowColor:{type:"text",default:"#d0d0d0"},shadowH:{type:"number",default:1},shadowV:{type:"number",default:1},shadowBlur:{type:"number",default:12},shadowSpread:{type:"number",default:0},id:{type:"number"},alt:{type:"string",source:"attribute",selector:"img",attribute:"alt",default:""},url:{type:"string",source:"attribute",selector:"img",attribute:"src"}},edit:g,save:function(e){const{attributes:t}=e,{title:o,textColor:l,titleAlign:i,titleBackgroundColor:n,titleColor:s,titleFontSize:c,titleBackgroundColorTransparent:u,backgroundColor:b,borderColor:m,borderRadius:p,animation:d}=t,{shadowColor:h,shadowH:w,shadowV:g,shadowBlur:y,shadowSpread:_}=t,{subtitleColor:C,subtitleLabel:S,subtitleFontSize:f,showSubtitleSeparator:k}=t,x="subtitlePlan"+(k?" with-separator":"");return(0,r.createElement)("div",{className:d,style:{color:l,background:b,borderColor:m,borderRadius:p,boxShadow:`${w}px ${g}px ${y}px ${_}px ${h}`}},""!==S?(0,r.createElement)("style",null,`.wp-block-yith-ywsbs-plan .subtitlePlan.with-separator:after { border-color: ${C} }`):"",(0,r.createElement)("div",{className:"plan-title",style:u?{background:"transparent"}:{background:n}},""!==S?(0,r.createElement)("div",{className:x,style:{color:C,fontSize:f}},S):"",(0,r.createElement)(a.RichText.Content,{className:"ywsbs-plan__title",tagName:"h2",value:o,style:{textAlign:i,color:s,fontSize:c}})),(0,r.createElement)(a.InnerBlocks.Content,null))}};(0,t.registerBlockType)("yith/ywsbs-plan",{...y});const _={title:(0,o.__)("Subscription price","yith-woocommerce-subscription"),description:(0,o.__)("Add subscription price inside the subscription plan","yith-woocommerce-subscription"),icon:i,category:"yith-blocks",parent:["yith/ywsbs-plan"],styles:[{name:"",label:(0,o.__)("Billing period inline","yith-woocommerce-subscription")},{name:"on-top",label:(0,o.__)("Billing period on top","yith-woocommerce-subscription")},{name:"on-bottom",label:(0,o.__)("Billing period on bottom","yith-woocommerce-subscription")}],attributes:{price:{type:"text",default:"$19.90"},priceFontSize:{type:"number",default:"40"},recurringBillingPeriod:{type:"text",default:"/ Month"},billingPeriodFontSize:{type:"number",default:"11"},billingPeriodPosition:{type:"text",default:"on-top"},feeText:{type:"text",default:"+ a signup fee of 5,00$"},feeShow:{type:"boolean",default:!0},feeFontSize:{type:"number",default:"13"},trialText:{type:"text",default:"Try it for 1 week free!"},trialShow:{type:"boolean",default:!0},trialFontSize:{type:"number",default:"13"}},edit:function(e){const{attributes:t,setAttributes:l,className:i}=e,{price:s,priceFontSize:c,textColor:u}=t,{recurringBillingPeriod:b,billingPeriodFontSize:m,billingPeriodPosition:p}=t,{feeText:d,feeFontSize:h,feeShow:w}=t,{trialText:g,trialFontSize:y,trialShow:_}=t,C=[{name:(0,o.__)("Small"),slug:"small",size:11},{name:(0,o.__)("Medium"),slug:"small",size:13},{name:(0,o.__)("Big"),slug:"big",size:40}];return(0,r.createElement)(r.Fragment,null,(0,r.createElement)(a.InspectorControls,null,(0,r.createElement)(n.PanelBody,{title:(0,o.__)("Price settings","yith-woocommerce-subscription")},(0,r.createElement)(n.FontSizePicker,{fontSizes:C,value:c||40,fallbackFontSize:40,withSlider:!0,onChange:e=>{l({priceFontSize:e})}})),(0,r.createElement)(n.PanelBody,{title:(0,o.__)("Billing period settings","yith-woocommerce-subscription")},(0,r.createElement)(n.FontSizePicker,{fontSizes:C,value:m||11,fallbackFontSize:13,withSlider:!0,onChange:e=>{l({billingPeriodFontSize:e})}})),(0,r.createElement)(n.PanelBody,{title:(0,o.__)("Fee settings","yith-woocommerce-subscription")},(0,r.createElement)(n.ToggleControl,{label:(0,o.__)("Show fee text?","yith-woocommerce-subscription"),help:w?(0,o.__)("The fee wil be displayed","yith-woocommerce-subscription"):(0,o.__)("There is no fee","yith-woocommerce-subscription"),checked:w,onChange:e=>l({feeShow:e})}),(0,r.createElement)(n.FontSizePicker,{fontSizes:C,value:h||13,fallbackFontSize:13,withSlider:!0,onChange:e=>{l({feeFontSize:e})}})),(0,r.createElement)(n.PanelBody,{title:(0,o.__)("Trial settings","yith-woocommerce-subscription")},(0,r.createElement)(n.ToggleControl,{label:(0,o.__)("Show trial text?","yith-woocommerce-subscription"),help:_?(0,o.__)("The trial text wil be displayed","yith-woocommerce-subscription"):(0,o.__)("There is no trial","yith-woocommerce-subscription"),checked:_,onChange:e=>l({trialShow:e})}),(0,r.createElement)(n.FontSizePicker,{fontSizes:C,value:y||13,fallbackFontSize:13,withSlider:!0,onChange:e=>{l({trialFontSize:e})}}))),(0,r.createElement)("div",{className:i,style:{color:u}},(0,r.createElement)("div",{className:"ywsbs-price__content"},(0,r.createElement)(a.RichText,{className:"ywsbs-plan__price",tagName:"span",onChange:e=>l({price:e}),value:s,style:{fontSize:c}}),(0,r.createElement)(a.RichText,{className:"ywsbs-plan__price-billing",tagName:"span",onChange:e=>l({recurringBillingPeriod:e}),value:b,style:{fontSize:m+"px"}})),w&&(0,r.createElement)(a.RichText,{className:"ywsbs-plan__fee",tagName:"div",onChange:e=>l({feeText:e}),value:d,style:{fontSize:h}}),_&&(0,r.createElement)(a.RichText,{className:"ywsbs-plan__trial",tagName:"div",onChange:e=>l({trialText:e}),value:g,style:{fontSize:y}})))},save:function({attributes:e}){const{price:t,priceFontSize:o}=e,{recurringBillingPeriod:l,billingPeriodFontSize:i,billingPeriodPosition:n}=e,{feeText:s,feeFontSize:c,feeShow:u}=e,{trialText:b,trialFontSize:m,trialShow:p}=e;return(0,r.createElement)("div",null,(0,r.createElement)("div",{className:"ywsbs-price"},(0,r.createElement)("div",{className:"ywsbs-price__content"},(0,r.createElement)(a.RichText.Content,{className:"ywsbs-plan__price",tagName:"span",value:t,style:{fontSize:o+"px"}}),(0,r.createElement)(a.RichText.Content,{className:"ywsbs-plan__price-billing",tagName:"span",value:l,style:{fontSize:i+"px"}})),u&&(0,r.createElement)(a.RichText.Content,{className:"ywsbs-plan__fee",tagName:"div",value:s,style:{fontSize:c+"px"}}),p&&(0,r.createElement)(a.RichText.Content,{className:"ywsbs-plan__trial",tagName:"div",value:b,style:{fontSize:m+"px"}})))},supports:{__experimentalColor:!0,__experimentalLineHeight:!0,__experimentalFontSize:!0}};for(var C in(0,t.registerBlockType)("yith/ywsbs-price",{..._}),e)this[C]=e[C];e.__esModule&&Object.defineProperty(this,"__esModule",{value:!0})})();