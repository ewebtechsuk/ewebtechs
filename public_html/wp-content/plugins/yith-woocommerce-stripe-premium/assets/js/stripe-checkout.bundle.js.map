{"version":3,"file":"stripe-checkout.bundle.js","mappings":";;AAAA;;AAEA,CAAC,UAAWA,CAAC,EAAG;EAEZ,IAAIC,MAAM,GAAGC,MAAM,CAAEC,gBAAgB,CAACC,UAAW,CAAC;IAE9C;IACAC,qBAAqB,GAAG,SAAxBA,qBAAqBA,CAAaC,QAAQ,EAAEC,IAAI,EAAG;MAC/C,IAAIC,QAAQ,GAAG;UACPC,IAAI,EAAET,CAAC,CAAC,8BAA8B,CAAC;UACvCU,OAAO,EAAEV,CAAC,CAAE,cAAe;QAC/B,CAAC;QACDO,IAAI,GAAGP,CAAC,CAACW,MAAM,CAAEH,QAAQ,EAAED,IAAK,CAAC;MAErCA,IAAI,CAACG,OAAO,CAACA,OAAO,CAAC,CAAC;MAEtBV,CAAC,CAAE,oBAAoB,EAAEO,IAAI,CAACE,IAAK,CAAC,CAACG,MAAM,CAAC,CAAC;MAE7C,IAAKN,QAAQ,CAACO,KAAK,EAAG;QAClB;QACAb,CAAC,CAAE,gBAAgB,EAAEO,IAAI,CAACE,IAAK,CAAC,CAACG,MAAM,CAAC,CAAC;;QAEzC;QACA,IAAKN,QAAQ,CAACO,KAAK,CAACC,OAAO,EAAG;UAC1BP,IAAI,CAACE,IAAI,CAACM,OAAO,CAAE,oCAAoC,GAAGT,QAAQ,CAACO,KAAK,CAACC,OAAO,GAAG,YAAa,CAAC;QACrG;MACJ;IACJ,CAAC;IAED;IACAE,kBAAkB,GAAG,SAArBA,kBAAkBA,CAAaC,KAAK,EAAE;MAClC,IAAIC,UAAU,GAAGlB,CAAC,CAAE,IAAK,CAAC,CAACmB,IAAI,CAAE,YAAa,CAAC;MAE/C,IAAI,CAAED,UAAU,EAAE;QACd,OAAO,KAAK;MAChB;MAEAlB,CAAC,CAAE,cAAe,CAAC,CAACoB,KAAK,CAAC;QACtBN,OAAO,EAAE,IAAI;QACbO,UAAU,EAAE;UACRC,UAAU,EAAE,MAAM;UAClBC,OAAO,EAAE;QACb;MACJ,CAAC,CAAC;MAEFtB,MAAM,CAACuB,kBAAkB,CAAC;QACtBC,SAAS,EAAEP;MACf,CAAC,CAAC,CAACQ,IAAI,CAAC,UAAUC,MAAM,EAAE;QACtB,IAAI,OAAOA,MAAM,CAACd,KAAK,IAAI,WAAW,EAAG;UACrCR,qBAAqB,CAACsB,MAAM,CAAC;QACjC;MACJ,CAAC,CAAC;IACN,CAAC;EAEL3B,CAAC,CAAE,YAAU;IACT;IACAA,CAAC,CAAE,8BAA+B,CAAC,CAAC4B,EAAE,CAAE,OAAO,EAAEZ,kBAAmB,CAAC,CAACa,KAAK,CAAC,CAAC;EACjF,CAAE,CAAC;AAEP,CAAC,EAAEC,MAAM,CAAC,C","sources":["webpack://yith-woocommerce-stripe-premium/./assets/js/stripe-checkout.js"],"sourcesContent":["/* global Stripe, yith_stripe_info, woocommerce_params */\n\n(function ( $ ) {\n\n    var stripe = Stripe( yith_stripe_info.public_key ),\n\n        // init error handling\n        handle_elements_error = function( response, args ) {\n            var defaults = {\n                    form: $('.woocommerce-notices-wrapper'),\n                    unblock: $( '.woocommerce' )\n                },\n                args = $.extend( defaults, args );\n\n            args.unblock.unblock();\n\n            $( '.woocommerce-error', args.form ).remove();\n\n            if ( response.error ) {\n                // Remove token, if any\n                $( '.stripe-intent', args.form ).remove();\n\n                // Show the errors on the form\n                if ( response.error.message ) {\n                    args.form.prepend( '<ul class=\"woocommerce-error\"><li>' + response.error.message + '</li></ul>' );\n                }\n            }\n        },\n\n        // init form submit\n        handle_form_submit = function( event ){\n            var session_id = $( this ).data( 'session_id' );\n\n            if( ! session_id ){\n                return false;\n            }\n\n            $( '.woocommerce' ).block({\n                message: null,\n                overlayCSS: {\n                    background: '#fff',\n                    opacity: 0.6\n                }\n            });\n\n            stripe.redirectToCheckout({\n                sessionId: session_id\n            }).then(function (result) {\n                if( typeof result.error != 'undefined' ) {\n                    handle_elements_error(result);\n                }\n            });\n        };\n\n    $( function(){\n        // handle form submit: checkout form\n        $( '#yith_wcstripe_open_checkout' ).on( 'click', handle_form_submit ).click();\n    } );\n\n})(jQuery);"],"names":["$","stripe","Stripe","yith_stripe_info","public_key","handle_elements_error","response","args","defaults","form","unblock","extend","remove","error","message","prepend","handle_form_submit","event","session_id","data","block","overlayCSS","background","opacity","redirectToCheckout","sessionId","then","result","on","click","jQuery"],"sourceRoot":""}